(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[675],{2921:function(e,t,a){Promise.resolve().then(a.bind(a,7679))},7679:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return $}});var s=a(7437),l=a(2265),r=a(8516),n=a(1888),i=a(4307),c=a(4630),o=a(9124),d=a(2871);let m=[{id:1,name:"English"},{id:2,name:"French"},{id:3,name:"Spanish"},{id:4,name:"German"},{id:5,name:"Chinese"},{id:6,name:"Norwegian"},{id:7,name:"Swedish"},{id:8,name:"Dutch"}];function u(e){let{language:t,setLanguage:a}=e;return(0,s.jsxs)(i.Ri,{value:t,onChange:a,children:[(0,s.jsx)(c.__,{className:"mt-4 block text-sm font-medium leading-6 text-gray-900",children:"Language"}),(0,s.jsxs)("div",{className:"relative mt-2",children:[(0,s.jsxs)(i.Y4,{className:"relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm sm:leading-6",children:[(0,s.jsx)("span",{className:"block truncate",children:t.name}),(0,s.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,s.jsx)(o.Z,{"aria-hidden":"true",className:"h-5 w-5 text-gray-400"})})]}),(0,s.jsx)(i.O_,{transition:!0,className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none data-[closed]:data-[leave]:opacity-0 data-[leave]:transition data-[leave]:duration-100 data-[leave]:ease-in sm:text-sm",children:m.map(e=>(0,s.jsxs)(i.wt,{value:e,className:"group relative cursor-default select-none py-2 pl-3 pr-9 text-gray-900 data-[focus]:bg-blue-500 data-[focus]:text-white",children:[(0,s.jsx)("span",{className:"block truncate font-normal group-data-[selected]:font-semibold",children:e.name}),(0,s.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-blue-500 group-data-[focus]:text-white [.group:not([data-selected])_&]:hidden",children:(0,s.jsx)(d.Z,{"aria-hidden":"true",className:"h-5 w-5"})})]},e.id))})]})]})}function x(e){let{parameters:t,setParameters:a}=e;return(0,s.jsx)(u,{language:t.language,setLanguage:e=>{a({...t,language:e})}})}var h=a(2819),f=a(6824);function g(e){let{containerOptions:t,setContainerOptions:a,setValidationErrors:l,disabled:r}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("fieldset",{children:(0,s.jsx)(f.Z,{label:"Input Directory",help:"Select a directory containing audio files.",value:t.input_dir,setValue:e=>{a(t=>({...t,input_dir:e}))},validate:function(e){if(""===e){let e={message:"Input directory is required.",ok:!1};return l(t=>({...t,inputDir:e})),e}return l(e=>({...e,inputDir:null})),{ok:!0}},type:"text",disabled:r})})})}function p(e){let{selectedService:t,setSelectedService:a,profile:r}=e,n=l.useMemo(()=>({revision:null,input_dir:""}),[]),[i,c]=l.useState({...n}),[o,d]=l.useState(!1),[m,u]=l.useState(!1),[x,f]=l.useState(!1),[p,w]=l.useState(null),[v,b]=l.useState({});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"pb-4 mb-4 border-b",children:(0,s.jsx)("button",{type:"button",className:"mt-1 w-full flex flex-row justify-center gap-x-2 rounded-md bg-tranparent px-3.5 py-1.5 text-sm font-regular shadow-sm hover:bg-blue-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 border bg-blue-500 text-white",onClick:()=>{d(!0)},children:"Open Launcher"})}),(0,s.jsx)(h.Z,{open:o,setOpen:d,defaultContainerOptions:n,containerOptions:i,setContainerOptions:c,launchSuccess:m,setLaunchSuccess:u,isLaunching:x,setIsLaunching:f,launchError:p,setLaunchError:w,validationErrors:v,setValidationErrors:b,selectedService:t,setSelectedService:a,profile:r,image:"speech-recognition",children:(0,s.jsx)(g,{containerOptions:i,setContainerOptions:c,setValidationErrors:b,disabled:x||m})})]})}function w(e){let{selectedService:t,setSelectedService:a,parameters:l,setParameters:i,profile:c,setProfile:o}=e;return(0,s.jsxs)("div",{className:"flex flex-col w-96 p-8 pr-12 bg-white overflow-auto",children:[(0,s.jsx)(r.ZP,{selectedProfile:c,setSelectedProfile:o}),(0,s.jsx)(n.Z,{selectedService:t,setSelectedService:a,profile:c,image:"speech-recognition",children:(0,s.jsx)(p,{selectedService:t,setSelectedService:a,profile:c})}),(0,s.jsx)(x,{parameters:l,setParameters:i})]})}let v=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}),b=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}),j=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}),y=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}),N=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}),k=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}),S=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}),E=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}),L=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}),C=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}),O=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});var P=a(408);function M(e){let{filesPerPage:t,totalFiles:a,currentPage:l,setCurrentPage:r}=e,n=[];for(let e=1;e<=Math.ceil(a/t);e++)n.push(e);return(0,s.jsxs)("div",{className:"flex justify-center mt-2",children:[(0,s.jsx)("button",{disabled:1===l||0===n.length,onClick:()=>{r(e=>e-1)},className:"disabled:text-gray-300",children:(0,s.jsx)(v,{className:"w-4 h-4"})}),0===n.length&&(0,s.jsx)("button",{disabled:!0,className:"h-8 w-8 px-1 py-1 mx-1 rounded-md text-center sm:text-sm font-light bg-white text-gray-300",children:"1"},1),n.map(e=>(0,s.jsx)("button",{disabled:e===l,onClick:()=>r(e),className:"h-8 w-8 px-1 py-1 mx-1 rounded-md text-center sm:text-sm ".concat(l===e?"font-semibold":"font-light bg-white hover:bg-slate-100"),children:e},e)),(0,s.jsx)("button",{disabled:l==n.length||0===n.length,className:"disabled:text-gray-300",onClick:()=>r(e=>e+1),children:(0,s.jsx)(b,{className:"w-4 h-4"})})]})}function _(e){let{root:t,path:a,setPath:r,pathError:n,setPathError:i}=e,[c,o]=(0,l.useState)(t),[d,m]=(0,l.useState)(!0);(0,l.useEffect)(()=>{o(a)},[a]);let u=()=>{console.debug("handleButtonClick:",c),c.startsWith(t)?(r(c),i(!1)):(o(a),i(!0))};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mt-2 flex rounded-md",children:[(0,s.jsx)("div",{className:"relative flex flex-grow items-stretch focus-within:z-10",children:(0,s.jsx)("input",{id:"directory",name:"directory",placeholder:t,value:c,onKeyUp:e=>{"Enter"===e.key&&u()},onChange:e=>{e.target.value.startsWith(t)?m(!0):m(!1),o(e.target.value)},className:"block w-full rounded-none rounded-l-md border-0 py-1.5 pl-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6"})}),(0,s.jsxs)("button",{type:"button",onClick:u,className:"relative -ml-px inline-flex items-center gap-x-1.5 rounded-r-md px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[(0,s.jsx)(j,{"aria-hidden":"true",className:"-ml-0.5 h-5 w-5 text-gray-400"}),"Search"]})]}),n?(0,s.jsx)(B,{root:t,setPathError:i}):(0,s.jsx)(s.Fragment,{})]})}function B(e){let{root:t,setPathError:a}=e;return(0,s.jsx)("div",{className:"rounded-md bg-red-50 p-4 mt-2",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(C,{"aria-hidden":"true",className:"h-5 w-5 text-red-400"})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsxs)("p",{className:"text-sm font-normal text-red-700",children:["Only audio files in the mounted directory ",t," are accessible."]})}),(0,s.jsx)("div",{className:"ml-auto pl-3",children:(0,s.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,s.jsxs)("button",{type:"button",onClick:()=>a(!1),className:"inline-flex rounded-md bg-red-50 p-1.5 text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 focus:ring-offset-red-50",children:[(0,s.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,s.jsx)(O,{"aria-hidden":"true",className:"h-5 w-5"})]})})})]})})}function R(e){let{query:t,setQuery:a}=e;return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"mt-2 relative rounded-md",children:[(0,s.jsx)("input",{id:"query",name:"query",placeholder:"*",onChange:e=>a(e.target.value),onKeyUp:e=>{"Escape"===e.key&&a("")},value:t,className:"block w-full rounded-md border-0 py-1.5 pl-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6"}),""===t?(0,s.jsx)("button",{disabled:!0,className:"absolute inset-y-0 right-0 flex items-center pr-3",children:(0,s.jsx)(y,{className:"h-5 w-5 text-gray-400"})}):(0,s.jsx)("button",{onClick:()=>a(""),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:(0,s.jsx)(O,{className:"h-5 w-5 text-gray-400"})})]})})}function Z(e){let{content:t,path:a,root:r,filesPerPage:n,setAudioPath:i,query:c,setPath:o,selected:d,setSelected:m,isLoading:u,error:x,refresh:h}=e,[f,g]=(0,l.useState)(1),p=f*n,w=""===c?t:null==t?void 0:t.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())),v=void 0===w?[]:w.slice(p-n,p);return(0,s.jsxs)("div",{id:"remote-file-browser-table",name:"remote-file-browser-table",className:"flex-none",children:[(0,s.jsx)("div",{className:"mt-3 flow-root",children:(0,s.jsx)("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"ring-1 ring-gray-300 sm:rounded-lg h-96 overflow-y-scroll",children:(0,s.jsxs)("table",{className:"divide-y divide-gray-300 table-fixed w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"sticky top-0 z-10 whitespace-nowrap py-4 text-left text-sm font-medium sm:pr-4 w-24 backdrop-blur bg-gray-50",children:(0,s.jsxs)("button",{onClick:()=>{let e=a.split("/"),t=e.slice(0,e.length-1).join("/");console.debug("setPath: ".concat(t)),o(t)},children:[a!==r&&a!="".concat(r,"/")&&(0,s.jsx)(N,{className:"h-4 w-4 mt-1 ml-4 text-gray-900 hover:text-gray-400"})," "]})}),(0,s.jsx)("th",{scope:"col",className:"sticky top-0 z-10 py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 w-1/2 backdrop-blur bg-gray-50",children:"Name"}),(0,s.jsx)("th",{scope:"col",className:"sticky top-0 z-10 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 w-24 backdrop-blur bg-gray-50",children:"Size"}),(0,s.jsx)("th",{scope:"col",className:"sticky top-0 z-10 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 w-48 backdrop-blur bg-gray-50",children:"Last Modified"}),(0,s.jsx)("th",{scope:"col",className:"sticky top-0 z-10 px-2.5 py-3.5 text-left text-sm font-semibold text-gray-900 w-12 backdrop-blur bg-gray-50",children:(0,s.jsx)("button",{onClick:async()=>{h()},children:(0,s.jsx)(k,{className:"h-5 w-5 mt-1 text-gray-900 hover:text-gray-400 ".concat(u?"animate-spin":"")})})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:x?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"h-64",children:(0,s.jsxs)("div",{className:"font-light sm:text-sm text-center align-middle",children:[(0,s.jsx)("img",{className:"h-14 ml-auto mr-auto opacity-80 mb-5",src:"/img/dead-fish.png",alt:"Loading error."}),"Oops! There seems to be a problem here..."]})})}):u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"relative whitespace-nowrap py-3 px-5 animate-pulse",children:(0,s.jsx)("div",{className:"bg-gray-100 h-9 rounded-md"})})}),(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"relative whitespace-nowrap py-3 px-5 animate-pulse",children:(0,s.jsx)("div",{className:"bg-gray-100 h-9 rounded-md"})})}),(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"relative whitespace-nowrap py-3 px-5 animate-pulse",children:(0,s.jsx)("div",{className:"bg-gray-100 h-9 rounded-md"})})}),(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"relative whitespace-nowrap py-3 px-5 animate-pulse",children:(0,s.jsx)("div",{className:"bg-gray-100 h-9 rounded-md"})})}),(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"relative whitespace-nowrap py-3 px-5 animate-pulse",children:(0,s.jsx)("div",{className:"bg-gray-100 h-9 rounded-md"})})})]}):(null==t?void 0:t.length)===0?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"h-64",children:(0,s.jsxs)("div",{className:"font-light sm:text-sm text-center align-middle",children:[(0,s.jsx)("img",{className:"h-14 ml-auto mr-auto opacity-80 mb-5",src:"/img/question-mark.png",alt:"No files found."}),"Hmm. There don't seem to be any files here..."]})})}):""===r?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"h-64",children:(0,s.jsx)("div",{className:"font-light sm:text-sm text-center align-middle",children:"No service selected."})})}):v.map(e=>(0,s.jsxs)("tr",{className:d===e.path?"bg-gray-50":"bg-white",children:[(0,s.jsx)("td",{className:"relative whitespace-nowrap w-24 py-4 px-5 text-gray-700 text-left text-sm font-medium sm:pr-6",children:(0,s.jsx)("div",{className:"flex ".concat(e.is_dir||e.path.match(/\.(mp3|wav|flac)$/i)?"":"text-gray-300"),children:e.is_dir?(0,s.jsx)(S,{className:"h-7 w-7"}):(0,s.jsx)(E,{className:"h-7 w-7"})})}),(0,s.jsx)("td",{className:"whitespace-nowrap w-1/2 py-4 pl-4 pr-3 text-left text-sm text-gray-900",children:(0,s.jsx)("div",{className:"overflow-x-scroll ".concat(e.is_dir||e.path.match(/\.(mp3|wav|flac)$/i)?"":"text-gray-300"),children:e.name})}),(0,s.jsx)("td",{className:"whitespace-nowrap w-24 py-3.5 px-3 text-left text-sm text-gray-900",children:(0,s.jsx)("div",{className:"flex ".concat(e.is_dir||e.path.match(/\.(mp3|wav|flac)$/i)?"":"text-gray-300"),children:e.is_dir?"-":function(e){let t=parseInt(e);return t/1e3<1?"".concat(t," B"):t/1e6<1?"".concat(Math.floor(t/1e3)," KB"):t/1e9<1?"".concat(Math.floor(t/1e6)," MB"):t/1e12<1?"".concat(Math.floor(t/1e9)," GB"):"".concat(Math.floor(t/1e12)," TB")}(e.size)})}),(0,s.jsx)("td",{className:"whitespace-nowrap w-48 py-4 px-3 text-left text-sm text-gray-900",children:(0,s.jsx)("div",{className:"flex ".concat(e.is_dir||e.path.match(/\.(mp3|wav|flac)$/i)?"":"text-gray-300"),children:function(e){let t=new Date(e),a=new Date-t;return a/1e3<60?"".concat(Math.floor(a/1e3)," seconds ago"):a/1e3/60<60?"".concat(Math.floor(a/1e3/60)," minutes ago"):a/1e3/3600<24?"".concat(Math.floor(a/1e3/3600)," hours ago"):"".concat(Math.floor(a/1e3/3600/24)," days ago")}(e.modified_at)})}),(0,s.jsx)("td",{className:"whitespace-nowrap w-12 py-4 px-3 text-left text-sm text-gray-900",children:(0,s.jsx)("div",{className:"flex ".concat(e.is_dir||e.path.match(/\.(mp3|wav|flac)$/i)?"":"text-gray-300"),children:e.is_dir?(0,s.jsx)("button",{onClick:()=>{console.debug("setPath: ".concat(e.path)),o(e.path)},className:"text-gray-900",children:(0,s.jsx)(L,{className:"h-4 w-4 mt-1 hover:text-gray-400"})}):e.path.match(/\.(mp3|wav|flac)$/i)&&(0,s.jsx)("input",{type:"checkbox",checked:d===e.path,onChange:async()=>{d===e.path?(console.debug("setSelected: ".concat(null)),m(""),i("")):(console.debug("setSelected: ".concat(e.path)),m(e.path),i(e.path))},className:"h-4 w-4 rounded border-gray-300 text-blue-500 focus:ring-blue-600"})})})]},e.path))})]})})})})}),(0,s.jsx)(M,{filesPerPage:n,totalFiles:void 0===w?0:w.length,currentPage:f,setCurrentPage:g})]})}function A(e){let{root:t,setAudioPath:a}=e,[r,n]=(0,l.useState)(t),[i,c]=(0,l.useState)(!1),[o,d]=(0,l.useState)(""),[m,u]=(0,l.useState)(""),{files:x,error:h,isLoading:f,refresh:g}=(0,P.of)(r);return(0,l.useEffect)(()=>{n(t)},[t]),(0,s.jsxs)("div",{id:"remote-file-browser",name:"remote-file-browser",className:"mt-2 mb-2 w-5/6 sm:w-full max-w-6xl",children:[(0,s.jsx)("div",{className:"sm:flex sm:items-center",children:(0,s.jsxs)("div",{className:"sm:flex-auto",children:[(0,s.jsx)("label",{className:"font-medium text-sm",children:"File Browser"}),(0,s.jsx)(_,{root:t,path:r,setPath:n,pathError:i,setPathError:c})]})}),(0,s.jsx)("div",{className:"sm:flex sm:items-center",children:(0,s.jsx)("div",{className:"sm:flex-auto",children:(0,s.jsx)(R,{query:m,setQuery:u})})}),(0,s.jsx)(Z,{content:x,path:r,root:t,filesPerPage:20,setAudioPath:a,query:m,setPath:n,setPathError:c,selected:o,setSelected:d,isLoading:f,error:h,refresh:g})]})}var W=a(9657);let z=(0,W.Z)();function D(e){let{audioPath:t}=e;return t?(0,s.jsxs)("div",{children:[(0,s.jsx)("audio",{src:"".concat(z,"/audio?path=").concat(t),title:"Preview ".concat(t),className:"w-5/6 max-w-5/6 sm:w-full sm:max-w-6xl mb-3 rounded-md",controls:!0}),(0,s.jsx)("div",{className:"w-5/6 max-w-5/6 sm:w-full sm:max-w-6xl text-right font-extralight sm:text-xs mb-3",children:t})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("audio",{src:"",title:"No file selected",className:"w-5/6 max-w-5/6 sm:w-full sm:max-w-6xl mb-3 rounded-md",controls:!0}),(0,s.jsx)("div",{className:"w-5/6 max-w-5/6 sm:w-full sm:max-w-6xl text-right font-extralight sm:text-xs mb-3",children:"No file selected"})]})}function F(e){let{output:t,isLoading:a}=e;return(0,s.jsx)("div",{className:"h-52 grow w-5/6 sm:w-full max-w-6xl shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg mb-1 mt-1 overflow-y-scroll",children:(0,s.jsx)("div",{className:"h-full px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"h-full py-6 flow-root",children:(0,s.jsx)("div",{className:"h-full overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsx)("div",{className:"h-full inline-block min-w-full py-2 align-middle",children:(0,s.jsx)("div",{children:a?(0,s.jsx)("div",{className:"flex flex-row align-middle justify-center items-center",children:(0,s.jsx)("img",{className:"animate-bounce mt-10 h-16 w-auto",src:"/img/orca.png",alt:"blackfish"})}):(0,s.jsx)("textarea",{name:"output",id:"output",className:"h-36 block w-full resize-none border-0 border-b border-transparent p-0 pb-2 text-gray-600 placeholder:text-gray-400 focus:border-0 focus:ring-0 sm:text-sm sm:leading-6 px-6",value:t,disabled:""===t,placeholder:'Select a file and click "Submit" to transcribe it.',onChange:()=>null})})})})})})})}var T=a(7442);async function H(e,t,a){let s=e.mounts.split(",")[0],l={audio_path:t.replace(s,"/data/audio"),response_format:"text",language:a.language.name.toLowerCase()},r=await fetch("http://".concat(e.host,":").concat(e.port,"/transcribe"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify(l)});if(!r.ok)throw Error("Failed to call the service");return r.json()}function V(e){let{selectedService:t,audioPath:a,setOutput:l,parameters:r,setIsLoading:n}=e,i=async e=>{if(e.preventDefault(),t){n(!0);let e=await H(t,a,r);n(!1),l(e.text.trim())}else console.debug("handleSubmit called with no service provided")};return(0,s.jsx)("div",{className:"flex flex-row w-1/2 max-w-2xl mb-8",children:(0,s.jsx)("div",{className:"grow w-full",children:(0,s.jsx)("form",{onSubmit:i,className:"mt-2 flex rounded-md",children:(0,s.jsxs)("button",{type:"submit",disabled:""===a||!t||"HEALTHY"!==t.status,className:"relative disabled:text-gray-400 -ml-px inline-flex items-center gap-x-1.5 rounded-md px-3 py-2 text-sm font-medium text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[(0,s.jsx)(T.Z,{className:"-ml-0.5 h-5 w-5","aria-hidden":"true"}),t?"Submit to ".concat(t.name):"Submit"]})})})})}function q(e){var t;let{selectedService:a,parameters:r}=e,[n,i]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),[d,m]=(0,l.useState)(!1);return(0,s.jsx)("div",{className:"flex flex-col grow p-4 pt-8 pl-8 bg-white",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(A,{root:a?null===(t=a.mounts)||void 0===t?void 0:t.split(",")[0]:"",setAudioPath:i}),(0,s.jsx)(D,{audioPath:n}),(0,s.jsx)(F,{output:c,isLoading:d}),(0,s.jsx)(V,{selectedService:a,audioPath:n,setOutput:o,parameters:r,setIsLoading:m})]})})}function $(){let{profile:e,setProfile:t}=(0,l.useContext)(r.JT),{services:a,error:n,isLoading:i}=(0,P.Su)(e,"speech-recognition"),[c,o]=l.useState(null),[d,m]=l.useState({language:{id:0,name:"English"}});return((0,l.useEffect)(()=>{!c&&a.length>0&&o(a[0])},[a]),(0,l.useEffect)(()=>{a.length>0&&o(a[0])},[e]),n)?(0,s.jsxs)("div",{className:"flex flex-col flex-shrink-0 justify-center h-[calc(100vh-64px)]",children:[(0,s.jsx)("div",{className:"flex flex-row justify-center items-center",children:(0,s.jsx)("img",{className:"h-16 w-auto mb-8",src:"img/dead-fish.png",alt:"blackfish-error"})}),(0,s.jsx)("div",{className:"flex flex-row justify-center items-center",children:"There's something fishy going on here."}),servicesError&&(0,s.jsx)("div",{className:"flex flex-row justify-center items-center",children:servicesError.status})]}):i?(0,s.jsx)("div",{className:"flex flex-col flex-shrink-0 justify-center h-[calc(100vh-64px)]",children:(0,s.jsx)("div",{className:"flex flex-row justify-center items-center",children:(0,s.jsx)("img",{className:"animate-bounce h-16 w-auto mb-8",src:"/img/orca.png",alt:"blackfish-loading"})})}):(0,s.jsxs)("div",{className:"flex flex-row h-[calc(100vh-64px)]",children:[(0,s.jsx)(q,{selectedService:c,parameters:d}),(0,s.jsx)(w,{selectedService:c,setSelectedService:o,parameters:d,setParameters:m,profile:e,setProfile:t})]})}(0,W.Z)()}},function(e){e.O(0,[501,248,620,336,971,117,744],function(){return e(e.s=2921)}),_N_E=e.O()}]);