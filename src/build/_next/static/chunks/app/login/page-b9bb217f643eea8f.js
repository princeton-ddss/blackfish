(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1670:function(e,t,n){Promise.resolve().then(n.bind(n,7845))},7845:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(7437),s=n(2265),a=n(6463);function i(){let[e,t]=(0,s.useState)(""),[n,i]=(0,s.useState)(null),u=(0,a.useSearchParams)();(0,s.useEffect)(()=>{"false"===u.get("success")&&i("Authentication failed. Please try again.")},[u]);let o=async t=>{t.preventDefault(),i(null);try{let t=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e}),credentials:"include"});if(t.redirected){let e=new URL(t.url).searchParams.get("success");if("false"===e)throw Error("Invalid token");window.location.href=t.url}}catch(e){i("Login failed. Please try again.")}};return(0,r.jsx)("div",{className:"flex items-center justify-center mt-6",children:(0,r.jsxs)("form",{onSubmit:o,className:"p-6 w-96",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Enter authentication token",value:e,onChange:e=>t(e.target.value),className:"w-full border border-gray-300 rounded-l-md px-4 py-2 outline-none focus:border-blue-500 focus:shadow-inner focus:ring-0",style:{boxSizing:"border-box"}}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 border border-blue-500 rounded-r-md flex items-center justify-center focus:outline-none focus:shadow-inner",style:{boxSizing:"border-box",height:"100%"},children:"â†’"})]}),n&&(0,r.jsx)("p",{className:"text-red-500 text-center mb-4",children:n})]})})}},6463:function(e,t,n){"use strict";var r=n(1169);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=1670)}),_N_E=e.O()}]);